{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","newItem","post","id","delete","concat","item","put","Filter","_ref","search","handleSearchInput","react_default","a","createElement","value","onChange","PersonForm","addPerson","newName","handleNameInput","newNumber","handleNumberInput","onSubmit","type","Persons","persons","Notification","message","setMessage","setTimeout","className","Error","error","setError","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setSearch","_useState9","_useState10","_useState11","_useState12","useEffect","personService","initialPersons","replacePerson","oldPerson","find","person","name","newPerson","objectSpread","number","returnedEntry","map","catch","err","console","log","personList","filter","toLowerCase","includes","key","onClick","window","confirm","newPersons","removePerson","Fragment","components_Filter","event","target","components_PersonForm","preventDefault","returnedPerson","components_Persons","components_Notification","components_Error","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.cc5096c8.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newItem => {\n  const request = axios.post(baseUrl, newItem)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n  axios.delete(`${baseUrl}/${id}`)\n}\n\nconst replace = item => {\n  const request = axios.put(`${baseUrl}/${item.id}`, item)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, replace }\n","import React from 'react'\n\nconst Filter = ({ search, handleSearchInput }) => {\n  return (\n    <div>\n      rajaa näytettäviä: <input value={search} onChange={handleSearchInput} />\n    </div>\n  )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({\n  addPerson,\n  newName,\n  handleNameInput,\n  newNumber,\n  handleNumberInput\n}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        nimi: <input value={newName} onChange={handleNameInput} />\n      </div>\n      <div>\n        numero: <input value={newNumber} onChange={handleNumberInput} />\n      </div>\n      <div>\n        <button type=\"submit\">lisää</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Persons = ({ persons }) => {\n  return <ul>{persons}</ul>\n}\n\nexport default Persons\n","import React from 'react'\n\nconst Notification = ({ message, setMessage }) => {\n  if (message === null) {\n    return null\n  }\n\n  setTimeout(() => {\n    setMessage(null)\n  }, 3000)\n\n  return <h3 className=\"success\">{message}</h3>\n}\n\nexport default Notification\n","import React from 'react'\n\nconst Error = ({ error, setError }) => {\n  if (error === null) {\n    return null\n  }\n\n  setTimeout(() => {\n    setError(null)\n  }, 3000)\n\n  return <h3 className=\"error\">{error}</h3>\n}\n\nexport default Error\n","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [search, setSearch] = useState('')\n  const [message, setMessage] = useState(null)\n  const [error, setError] = useState(null)\n\n  useEffect(() => {\n    personService.getAll().then(initialPersons => setPersons(initialPersons))\n  }, [])\n\n  const handleNameInput = event => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberInput = event => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchInput = event => {\n    setSearch(event.target.value)\n  }\n\n  const addPerson = event => {\n    event.preventDefault()\n\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.find(person => person.name === newName)) {\n      const result = window.confirm(\n        `${newName} on jo luettelossa, korvataanko vanha numero uudella?`\n      )\n\n      result && replacePerson(newPerson)\n\n      setNewName('')\n      setNewNumber('')\n      return\n    }\n\n    personService\n      .create(newPerson)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setMessage(`${returnedPerson.name} lisätty`)\n      })\n      .catch(err => {\n        setError(err.response.data.error)\n      })\n  }\n\n  const removePerson = item => {\n    const result = window.confirm(`Poistetaanko ${item.name}?`)\n\n    if (result) {\n      personService.remove(item.id)\n      const newPersons = persons.filter(person => person.id !== item.id)\n      setPersons(newPersons)\n      setMessage(`${item.name} poistettu`)\n    }\n  }\n\n  const replacePerson = item => {\n    const oldPerson = persons.find(person => person.name === item.name)\n\n    const newPerson = { ...oldPerson, number: item.number }\n\n    personService\n      .replace(newPerson)\n      .then(returnedEntry => {\n        setPersons(\n          persons.map(person =>\n            person.id !== returnedEntry.id ? person : returnedEntry\n          )\n        )\n        setMessage(`${item.name} muutettu`)\n      })\n      .catch(err => {\n        setError(`${item.name} oli jo poistettu`)\n        console.log(err)\n      })\n  }\n\n  const filteredPersons = persons.filter(person =>\n    person.name.toLowerCase().includes(search.toLowerCase())\n  )\n\n  const personList = filteredPersons.map(person => (\n    <li key={person.name}>\n      {person.name} {person.number}{' '}\n      <button onClick={() => removePerson(person)}>poista</button>\n    </li>\n  ))\n\n  return (\n    <>\n      <h1>Puhelinluettelo</h1>\n      <Filter search={search} handleSearchInput={handleSearchInput} />\n      <h2>Lisää uusi</h2>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameInput={handleNameInput}\n        newNumber={newNumber}\n        handleNumberInput={handleNumberInput}\n      />\n      <h2>Numerot</h2>\n      <Persons persons={personList} />\n      <Notification message={message} setMessage={setMessage} />\n      <Error error={error} setError={setError} />\n    </>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}